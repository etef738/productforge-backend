
{% extends "base_dashboard.html" %}
{% block content %}
<div class="space-y-6">
  <h2 class="text-2xl font-bold text-indigo-400 flex items-center gap-2">
    ðŸ“¤ Upload
  </h2>

  <!-- Metrics Panel -->
  <div id="upload-metrics" hx-get="/dashboard/api/upload-metrics-html" hx-trigger="load, every 10s" hx-swap="outerHTML"></div>

  <!-- Upload Form -->
  <form
    hx-post="/upload/file"
    hx-encoding="multipart/form-data"
    hx-target="#upload-metrics"
    hx-swap="outerHTML"
    class="flex items-center gap-4 bg-slate-800 p-4 rounded-xl"
    enctype="multipart/form-data"
    method="post"
  >
    <label class="text-gray-300 font-medium">ZIP Archive:</label>
    <input type="file" name="file" accept=".zip" class="text-sm text-gray-200 bg-slate-700 p-2 rounded" />
    <button type="submit" class="bg-indigo-600 hover:bg-indigo-700 text-white font-semibold px-5 py-2 rounded-lg">
      Upload
    </button>
  </form>

  <!-- Recent Uploads -->
  <div id="recent-uploads"
       hx-get="/dashboard/api/recent-uploads-html"
       hx-trigger="load, every 15s"
       hx-swap="outerHTML transition:opacity">
  </div>
</div>
{% endblock %}
