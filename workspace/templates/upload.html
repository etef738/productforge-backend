
{% extends "base_dashboard.html" %}
{% block content %}
<div class="space-y-6">
  <h2 class="text-2xl font-bold text-indigo-400 flex items-center gap-2">
    ðŸ“¤ Upload
  </h2>

  <!-- Metrics Panel -->
  <div id="upload-metrics" hx-get="/dashboard/api/upload-metrics-html" hx-trigger="load, every 10s" hx-swap="outerHTML"></div>

  <!-- Upload Form -->
  <form id="upload-form"
        class="bg-gray-900/50 p-4 rounded-2xl flex flex-col sm:flex-row items-center gap-4 border border-indigo-500/20"
        enctype="multipart/form-data"
        method="post"
        hx-post="/upload/file"
        hx-target="#recent-uploads"
        hx-swap="outerHTML transition:opacity">
    <label class="text-gray-300 font-medium">ZIP Archive:</label>
    <input type="file" name="file"
           accept=".zip"
           required
           class="file-input file-input-bordered file-input-primary text-sm bg-gray-800 text-gray-100 rounded-xl p-2 w-full sm:w-auto" />
    <button type="submit"
            class="bg-indigo-600 hover:bg-indigo-500 text-white font-semibold px-6 py-2 rounded-xl transition-all shadow-md">
      Upload
    </button>
  </form>

  <!-- Recent Uploads -->
  <div id="recent-uploads"
       hx-get="/dashboard/api/recent-uploads-html"
       hx-trigger="load, every 15s"
       hx-swap="outerHTML transition:opacity">
  </div>
</div>
{% endblock %}
