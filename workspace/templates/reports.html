<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <title>Reports â€“ ProductForge</title>
  <script src="https://cdn.tailwindcss.com"></script>
</head>
<body class="bg-gray-900 text-gray-100 min-h-screen">
  <div class="max-w-5xl mx-auto py-10 px-6">
    <h1 class="text-3xl font-bold mb-6 text-indigo-400">ğŸ“‘ Generated Reports</h1>
    <p class="text-gray-400 mb-8">Listing recent weekly reports generated by the analytics subsystem.</p>
    <div id="reportsList" class="space-y-2 text-sm"></div>
    <div class="mt-8">
      <a href="/dashboard" class="text-indigo-400 hover:text-indigo-300">â† Back to Dashboard</a>
    </div>
  </div>
  <script>
    async function loadReports() {
      const res = await fetch('/reports');
      const data = await res.json();
      const html = data.reports.map(r => `
        <div class='p-3 bg-gray-800 rounded border border-indigo-600 flex justify-between items-center'>
          <div>
            <p class='font-mono text-xs'>${r.filename}</p>
            <p class='text-xs text-gray-400'>Size: ${r.size} bytes â€¢ Modified: ${r.modified}</p>
          </div>
          <a class='text-indigo-400 text-xs underline' href='/workspace/reports/${r.filename}' download>Download</a>
        </div>
      `).join('');
      document.getElementById('reportsList').innerHTML = html || '<p>No reports yet.</p>';
    }
    loadReports();
  </script>
</body>
</html>
